标题:【Daily Interview】- 19 全排列
描述:对于上面的示例，其实核心思路非常简单暴力：直接写一个三层嵌套的循环去遍历即可。 但实际上，我们并不知道输入的 nums 有多长，也就是说，我们无法确定应该嵌套几个循环来遍历 nums。 那么这个问题就变成了对树的遍历，同时需要注意的是，当进入下一层的时候，要记住上一层的状态，方…

<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px; border-bottom: 4px rgba(160, 249, 176) solid; display: flex; padding: 0;"><span class="prefix" style="display: none;"></span><span class="content" style="width: 100%; display: flex; color: rgba(160, 249, 176); padding: 0.5rem 1rem; border-top-left-radius: 4px; border-top-right-radius: 4px; background: #181a21 !important;">题目</span><span class="suffix"></span></h2>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/308de3d3bd184ef29a99a337ccaa5a1f~tplv-k3u1fbpfcp-watermark.image" alt="img01" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 5px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; font-size: 14px;">img01</figcaption></figure>
<blockquote class="multiquote-1" data-tool="mdnice编辑器" style="border: none; display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-top: 20px; position: relative; padding: 1rem 1.5rem; color: #bdbdbd; border-top-right-radius: 5px; border-bottom-right-radius: 5px; margin-bottom: 2em; border-left: 3px #f4569d solid; border-top: 3px #f4569d solid; border-bottom: 2px #f4569d solid; background: #181a21;">
<p style="padding-top: 8px; padding-bottom: 8px; font-size: 17px; word-spacing: 3px; letter-spacing: 1px; margin: 0px; line-height: 26px; color: #ededed !important;"><span style="font-style: italic; font-weight: 700; font-size: 18px; color: #f4569d; position: relative; top: 0; left: 0;">!! </span>题目来源：<a href="https://leetcode-cn.com/problems/permutations/" style="text-decoration: none; color: #1e6bb8; word-wrap: break-word; font-weight: bold; border-bottom: 1px solid #1e6bb8;">全排列 - 力扣</a></p>
</blockquote>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-weight: bold; color: black; font-size: 22px; border-bottom: 4px rgba(160, 249, 176) solid; display: flex; padding: 0;"><span class="prefix" style="display: none;"></span><span class="content" style="width: 100%; display: flex; color: rgba(160, 249, 176); padding: 0.5rem 1rem; border-top-left-radius: 4px; border-top-right-radius: 4px; background: #181a21 !important;">分析</span><span class="suffix"></span></h2>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">对于上面的示例，其实核心思路非常简单暴力：<strong style="color: black; font-weight: 600; padding: 0 0.5rem; border-bottom: 3px rgba(131, 252, 253, 0.6) solid;">直接写一个三层嵌套的循环去遍历即可</strong>。</p>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">代码如下：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;permute&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;">nums</span>)&nbsp;</span>{<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;result&nbsp;=&nbsp;[];<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;temp&nbsp;=&nbsp;[];<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(i&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">of</span>&nbsp;nums)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(j&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">of</span>&nbsp;nums)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;(i&nbsp;===&nbsp;j)&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">continue</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(k&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">of</span>&nbsp;nums)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;(i&nbsp;===&nbsp;k&nbsp;||&nbsp;j&nbsp;===&nbsp;k)&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">continue</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp&nbsp;=&nbsp;[i,&nbsp;j,&nbsp;k];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.push(temp);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;result;<br>};<br></code></pre>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">结果如下：</p>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69baa8addd2d4047b77693968f01b7ff~tplv-k3u1fbpfcp-watermark.image" alt="img02" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 5px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; font-size: 14px;">img02</figcaption></figure>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">但实际上，我们并不知道输入的 nums 有多长，也就是说，我们无法确定应该嵌套几个循环来遍历 nums。</p>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">所以这里要换一个角度进行思考，以 [1, 2, 3] 为例，假设每取一个值，就往下新增一个节点，那么最终应该是一个树的结构，如图所示：</p>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69fc96b6323c428aa8c2284bde6ba7cd~tplv-k3u1fbpfcp-watermark.image" alt="img03" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 5px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; font-size: 14px;">img03</figcaption></figure>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">那么这个问题就变成了对树的遍历，同时需要注意的是，当进入下一层的时候，要记住上一层的状态，方便在触边的情况下进行回退，而这样的思路被称为：回溯。</p>
<blockquote class="multiquote-1" data-tool="mdnice编辑器" style="border: none; display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-top: 20px; position: relative; padding: 1rem 1.5rem; color: #bdbdbd; border-top-right-radius: 5px; border-bottom-right-radius: 5px; margin-bottom: 2em; border-left: 3px #f4569d solid; border-top: 3px #f4569d solid; border-bottom: 2px #f4569d solid; background: #181a21;">
<p style="padding-top: 8px; padding-bottom: 8px; font-size: 17px; word-spacing: 3px; letter-spacing: 1px; margin: 0px; line-height: 26px; color: #ededed !important;"><span style="font-style: italic; font-weight: 700; font-size: 18px; color: #f4569d; position: relative; top: 0; left: 0;">!! </span>💡 tip：回溯本质上就是暴力的遍历每一种结果，效率不能算高，不过应用场景非常广，诸如排列组合，数独迷宫，皇后问题等，都能用回溯算法进行解决，感兴趣的读者可以<a href="https://www.bilibili.com/video/BV1ZK411K7A8?from=search&amp;seid=8861150538522158055" style="text-decoration: none; color: #1e6bb8; word-wrap: break-word; font-weight: bold; border-bottom: 1px solid #1e6bb8;">看看这里</a>。</p>
</blockquote>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">这里设用于回溯的方法叫 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">backtrace</code>，对于它而言，需要注意的关键点如下：</p>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">需要哪些参数？
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">需要的参数至少有最终的结果 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">result</code>，用于缓存状态的 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">cache</code>，以及目标 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">nums</code></section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">边界条件是什么？
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">边界条件就是遍历到树的底层，显然当 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">cache</code> 的大小等于 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #000000; background: rgba(14, 210, 247, 0.15);">nums</code> 的大小的时候，说明已经触底了</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如何进入下一层，又如何回到上一层？
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">这里可以利用栈来进行缓存，先将当前节点入栈，随后递归进入下一层，结束递归后将上层节点出栈即可</section></li></ul>
</section></li></ul>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">结合上面的思路，我们可以书写出下面的代码：</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;backtrace&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;">(<span class="hljs-params" style="line-height: 26px;">result,&nbsp;cache,&nbsp;nums</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;(cache.length&nbsp;===&nbsp;nums.length)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;result.push([...cache]);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">let</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;nums.length;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;(cache.includes(nums[i]))&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">continue</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;cache.push(nums[i]);<br>&nbsp;&nbsp;&nbsp;&nbsp;backtrace(result,&nbsp;cache,&nbsp;nums);<br>&nbsp;&nbsp;&nbsp;&nbsp;cache.pop();<br>&nbsp;&nbsp;}<br>};<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;permute&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">function</span>&nbsp;(<span class="hljs-params" style="line-height: 26px;">nums</span>)&nbsp;</span>{<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;result&nbsp;=&nbsp;[];<br>&nbsp;&nbsp;backtrace(result,&nbsp;[],&nbsp;nums);<br>&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;result;<br>};<br></code></pre>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px; color: black; font-size: 17px; word-spacing: 3px; letter-spacing: 1px;">结果如下：</p>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a97e40a808124131be8ac48073969c05~tplv-k3u1fbpfcp-watermark.image" alt="img04" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 5px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; font-size: 14px;">img04</figcaption></figure>
</section>